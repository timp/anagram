<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-07-28 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150728" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Anagram &#x2013; Design Considerations</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<meta name="keyword" content="anagram, java, threaded"/>
                      
        
<meta charset="utf-8"/>
                      
        
<meta name="viewport" content="width=device-width, initial-scale=1"/>
          
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Anagram</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-07-28
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0-SNAPSHOT
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://github.com/timp/anagram" class="externalLink" title="Github">
        Github</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://tim.pizey.uk/" class="externalLink" title="TimP">
        TimP</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="task.html" title="Task">
          <span class="none"></span>
        Task</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Design</a>
          </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <span class="none"></span>
        Usage</a>
            </li>
                              <li class="nav-header">Testing</li>
                              
      <li>
  
                          <a href="jacoco" title="JaCoCo">
          <span class="none"></span>
        JaCoCo</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="images/logos/maven-feather.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Design Considerations</h1>
<h1>Implementation approach</h1>
<p>The use of <a class="externalLink" href="http://maven.apache.org">Maven</a> is specified. </p>
<p>Maven is used to build, test and package the application; it is also used to generate the application&#x2019;s documentation. </p>
<p>The system will be coded using a Test Driven approach. At the completeion of a Red-Green-Refactor loop IntelliJ&#x2019;s coverage and analysis tools are used to ensure redundant code has been removed and style is maintained. When faking a method it is always marked with a TODO tag so that it is easy to check that there are no faked methods remaining at completion.</p>
<h1>Problem Analysis</h1>
<div class="section">
<div class="section">
<div class="section">
<div class="section">
<h5><a name="Definition_of_an_anagram"></a>Definition of an anagram</h5>
<p>From <a class="externalLink" href="https://en.wikipedia.org/wiki/Anagram">WikiPedia</a></p>

<blockquote>
<p>An anagram is a type of word play, the result of rearranging the letters of a word or phrase to produce a new word or phrase, using all the original letters exactly once;</p>
</blockquote></div>
<div class="section">
<h5><a name="A_command_line_interface_is_specified"></a>A command line interface is specified</h5>
<p>The unit tests will run against the class but a bash test harness is also supplied.</p></div>
<div class="section">
<h5><a name="The_data_file_is_2.4Mb_in_size_containing_235886_words_on_different_lines."></a>The data file is 2.4Mb in size, containing 235886 words on different lines.</h5>
<p>This is not big by modern standards but a threaded search of the data is specified. </p></div>
<div class="section">
<h5><a name="The_data_file_contains_proper_names_and_duplicates"></a>The data file contains proper names and duplicates</h5>
<p>The initial few lines of the data file: <tt>
A
a
aa
aal
aalii
aam
Aani
</tt> Any capitalised word will be omitted as a proper name during the data load. This reduces the number of entries from 215843 to 195763. There are many other words in teh dictionary which are not English but the problematic entries are the single and double letter words which are not english. These give false positives and force the system to divide on every letter. All invalid English one and two letter words, identified with a test, have been removed by hand.</p></div>
<div class="section">
<h5><a name="Input_format"></a>Input format</h5>
<p>The system takes a single line of ascii characters as input. The system treats upper and lower case characters as the same. <i>Note</i> that only ascii characters are catered for, accented unicode characters are not handled.</p></div>
<div class="section">
<h5><a name="Output_format"></a>Output format</h5>
<p>The system outputs each word with initial letter capitalised. </p></div>
<div class="section">
<h5><a name="Problem_decomposition"></a>Problem decomposition</h5>
<p>The problem can be broken into three parts:  finding all anagrams of a word and finding all possible sub-divisions of a string and  lastly implementing the search in parallel. </p>
<div class="section">
<h6><a name="Finding_all_anagrams_of_a_string"></a>Finding all anagrams of a string</h6>
<p>We are given a word list and can build a dictionary from that which is keyed upon a  sorted copy of the string and has a list of all words with the same key.  To ensure that the Lists holding the valid words for a key are not resized the maximum number of  words to a key was discovered using a test (it is 10).</p></div>
<div class="section">
<h6><a name="Finding_all_possible_ways_of_sub_dividing_a_string"></a>Finding all possible ways of sub dividing a string</h6>
<p>The problem is to generate all permutations of a string and then all possible word boundaries for each permutation.  We hit the combinatorial explosion fairly early! <i>Benedict Cumberbatch</i> is 19 characters  of which there are 19 factorial (121645100408832000) permutations for each one of which  there are a further 19 factorial ways of splitting them into words. </p>
<p>We need to use the dictionalry to cut the search space down.  The recommended technique for dealing with this size problem is to use a data structure  called a trie, a use of which is described in the following references: </p>

<ul>
  
<li><a class="externalLink" href="http://www.it.iitb.ac.in/~deepak/deepak/placement/Programming_pearls.pdf">Programming Pearls - Column 2</a>.</li>
  
<li><a class="externalLink" href="http://www.toptal.com/java/the-trie-a-neglected-data-structure">The Trie: A Neglected Data Structure</a></li>
  
<li><a class="externalLink" href="https://github.com/bconniff/Anagram">Android Anagrammer</a></li>
</ul>
<p>We need to know the longest word in the disctionary to establish the fan out of the trie,  which can be discovered by a test.</p>
<p>To cut down the possibility space we will load a Trie with all the strings in the dictionary  and then query that for each generated permutation, pruning branches where there is no entry in  the trie. </p></div>
<div class="section">
<h6><a name="Parrallelisation"></a>Parrallelisation</h6>
<p>The tests we have developed so far should still pass after parallelisation.</p></div></div></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2015.
          All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
